{"id":7,"name":"ldrSensor","agents":[{"archClass":"Argo","name":"agentARGO","sourceCode":"//serialPort(ttyEmulatedPort0).\t\t/* when using the simulIDE */\n//serialPort(ttyUSB0).\t\t\t/* when using an generic Arduino board */\nserialPort(ttyACM0).\t\t\t/* when using an Arduino board */\n\n!start.\n\n+!start: serialPort(Port) <-\n\t.argo.port(Port); \n\t.argo.limit(500); \n\t.argo.percepts(open).\n\n+device(D): D = arduinoLightSensor <-\n\t.print(\"Device connected!\").\n\n+lightSensor(L) <- \n\t.print(\"LightLevel: \",L).\n\n+port(Port,Status):\nStatus = off | Status = timeout <-\n\t.argo.percepts(close);\n\t.print(\"The serial port \",Port,\" is \",Status).\n"}],"firmwares":[{"name":"arduinoLDRsensor","sourceCode":"#include <Javino.h>\n#define pinLDR A0\nJavino javino;\n\nvoid serialEvent(){\n  javino.readSerial();\n}\n\nvoid setup() {\n  pinMode(pinLDR, INPUT);\n  javino.perceive(getExogenousPerceptions);\n  javino.start(9600);\n}\n\n\n\nvoid loop() {\n  javino.run();\n}\n\n\nvoid getExogenousPerceptions(){ \n\tjavino.addPercept(\"device(arduinoLightSensor)\");\n\tjavino.addPercept(\"lightSensor(\"+String(analogRead(pinLDR))+\")\");\n}"}]}